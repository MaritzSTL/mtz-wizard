<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>mtz-wizard demo</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../mtz-wizard.html">
    <link rel="import" href="../mtz-wizard-stepper.html">
    <link rel="import" href="../mtz-wizard-step.html">
    <link rel="import" href="../../iron-form/iron-form.html">

    <style is="custom-style" include="demo-pages-shared-styles">
    </style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic mtz-wizard demo</h3>
      <demo-snippet>
        <template>
          <demo-el></demo-el>
          <dom-module id="demo-el">
            <template>
              <button on-tap="toggleActive">
                Toggle Active
              </button>
              <button on-tap="toggleStep">
                Toggle Step
              </button>
              <mtz-wizard-stepper
                steps="[[steps]]"
                selected="{{selected}}"
              ></mtz-wizard-stepper>
              <mtz-wizard active="[[active]]" steps="{{steps}}" selected="{{selected}}" id="wizard">
                <template is="dom-if" if="[[!hideStep]]" restamp>
                  <mtz-wizard-step name="step-0" label="Step 0">
                    Conditional step with no form
                  </mtz-wizard-step>
                </template>
                <mtz-wizard-step required name="step-1" label="Name">
                  <h4>Required step with a form</h4>
                  <iron-form wizard-form>
                    <form is="iron-form">
                      <label>
                        First Name*:
                        <input required name="firstName" />
                      </label>
                      <br>
                      <label>
                        Last Name:
                        <input name="lastName" />
                      </label>
                    </form>
                  </iron-form>
                </mtz-wizard-step>
                <div class="wizard-step" name="step-2" label="step-2-key">
                  Div treated as a step
                </div>
                <mtz-wizard-step name="step-3" label="Step 3">
                  <h4>Optional step with a form</h4>
                  <iron-form wizard-form>
                    <form is="iron-form">
                      <label>
                        Age:
                        <input required type="number" name="firstName" />
                      </label>
                    </form>
                  </iron-form>
                </mtz-wizard-step>
                <div name="ignored-step">
                  should never be visible
                </div>
              </mtz-wizard>
              <button on-tap="nextStep">
                Next Step
              </button>
              <button on-tap="prevStep">
                Previous Step
              </button>
              <button on-tap="validate">
                Validate Steps
              </button>
            </template>
            <script>
              window.addEventListener('WebComponentsReady', () => {
                Polymer({
                  is: 'demo-el',
                  properties: {
                    active: {
                      type: Boolean,
                      value: true
                    },
                    hideStep: {
                      type: Boolean,
                      value: false
                    },
                    selected: String,
                    steps: Array
                  },
                  nextStep() {
                    this.$.wizard.next();
                  },
                  prevStep() {
                    this.$.wizard.previous();
                  },
                  toggleActive() {
                    this.active = !this.active;
                  },
                  toggleStep() {
                    this.hideStep = !this.hideStep;
                  },
                  validate() {
                    this.$.wizard.validate();
                  }
                });
              });
            </script>
          </dom-module>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
